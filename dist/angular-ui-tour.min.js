!function(a){"use strict";a.config(["$uibTooltipProvider",function(a){a.setTriggers({uiTourShow:"uiTourHide"})}])}(angular.module("bm.uiTour",["ngSanitize","ui.bootstrap","smoothScroll","ezNg"])),function(a){"use strict";a.factory("uiTourBackdrop",["TourConfig","$document","$uibPosition","$window",function(a,b,c,d){function e(){i.addClass("no-scrolling"),i.on("touchmove",k)}function f(){i.removeClass("no-scrolling"),i.off("touchmove",k)}var g,h={},i=angular.element(b[0].body),j=angular.element(b[0].createElement("div")),k=function(a){a.preventDefault()};return function(){var a=".no-scrolling",b="height: 100%; overflow: hidden;",c=document.createElement("style");c.type="text/css",document.getElementsByTagName("head")[0].appendChild(c),c.sheet||c.sheet.insertRule?c.sheet.insertRule(a+"{"+b+"}",0):(c.styleSheet||c.sheet).addRule(a,b)}(),j.css({position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:a.get("backdropZIndex"),backgroundColor:"rgba(0, 0, 0, .5)",display:"none"}),i.append(j),h.createForElement=function(b,d,f){var h;g=b.clone(),j.css("display","block"),i.append(g),g.css("zIndex",a.get("backdropZIndex")+1),h=c.offset(b),g.css({position:f?"fixed":"absolute",top:h.top+"px",left:h.left+"px",height:h.height+"px",width:h.width+"px",marginTop:0,marginLeft:0,backgroundColor:i.css("backgroundColor")||"#FFFFFF"}),d&&e()},h.hide=function(){j.css("display","none"),g.remove(),f()},h}])}(angular.module("bm.uiTour")),function(a){"use strict";a.provider("TourConfig",[function(){var a={placement:"top",animation:!0,popupDelay:1,closePopupDelay:0,trigger:"uiTourShow",enable:!0,appendToBody:!1,tooltipClass:"",orphan:!1,backdrop:!1,backdropZIndex:1e4,scrollOffset:100,onStart:null,onEnd:null,onPause:null,onResume:null,onNext:null,onPrev:null,onShow:null,onShown:null,onHide:null,onHidden:null};this.set=function(b,c){a[b]=c},this.$get=[function(){var b={};return b.get=function(b){return a[b]},b.getAll=function(){return angular.copy(a)},b}]}])}(angular.module("bm.uiTour")),function(a){"use strict";a.controller("TourController",["$q","$filter","TourConfig","uiTourBackdrop",function(a,b,c,d){function e(a){var b=a.shift()();return a.forEach(function(a){b=b.then(a)}),b}function f(){var a=i.getCurrentStep(),b=i.getNextStep();return!!(b&&b.enabled||a.nextPath)}function g(){var a=i.getCurrentStep(),b=i.getPrevStep();return!!(b&&b.enabled||a.prevPath)}var h,i=this,j=[],k=null,l={OFF:0,ON:1,PAUSED:2},m=l.OFF,n=c.getAll();i.addStep=function(a){~j.indexOf(a)||(j.push(a),j=b("orderBy")(j,"order"),h&&h(a))},i.removeStep=function(a){j.splice(j.indexOf(a),1)},i.reorderStep=function(a){i.removeStep(a),i.addStep(a)},i.start=function(){n.onStart&&n.onStart(),k=j[0],m=l.ON,i.showStep(i.getCurrentStep())},i.end=function(){i.getCurrentStep()&&i.hideStep(i.getCurrentStep()),n.onEnd&&n.onEnd(),k=null,m=l.OFF},i.pause=function(){n.onPause&&n.onPause(),m=l.PAUSED,i.hideStep(i.getCurrentStep())},i.resume=function(){n.onResume&&n.onResume(),m=l.ON,i.showStep(i.getCurrentStep())},i.next=function(){var b=i.getCurrentStep();return e([b.config("onNext")||a.resolve,function(){return i.hideStep(b)},function(){return k=i.getNextStep(),i.getCurrentStep()?i.showStep(i.getCurrentStep()):void i.end()}])},i.prev=function(){var b=i.getCurrentStep();return e([b.config("onPrev")||a.resolve,function(){return i.hideStep(b)},function(){return k=i.getPrevStep(),h?a.resolve():i.getCurrentStep()?i.showStep(i.getCurrentStep()):void i.end()}])},i.showStep=function(b){return e([b.config("onShow")||a.resolve,function(){return b.config("backdrop")&&d.createForElement(b.element,b.preventScrolling,b.fixed),a.resolve()},function(){return a(function(a){b.element[0].dispatchEvent(new CustomEvent("uiTourShow")),a()})},b.config("onShown")||a.resolve,function(){return b.isNext=f(),b.isPrev=g(),a.resolve()}])},i.hideStep=function(b){return e([b.config("onHide")||a.resolve,function(){return a(function(a){b.element[0].dispatchEvent(new CustomEvent("uiTourHide")),a()})},function(){return b.config("backdrop")&&d.hide(),a.resolve()},b.config("onHidden")||a.resolve])},i.getCurrentStep=function(){return k},i.getNextStep=function(){return k?j[j.indexOf(k)+1]:null},i.getPrevStep=function(){return k?j[j.indexOf(k)-1]:null},i.waitFor=function(a){i.pause(),h=function(b){b.stepId===a&&(k=j[j.indexOf(b)],i.resume(),h=null)}},i.config=function(a){return n[a]},i.init=function(a){return n=angular.extend(n,a),i.options=n,i},i._getSteps=function(){return j},i._getStatus=function(){return m},i._getCurrentStep=function(){return k}}])}(angular.module("bm.uiTour")),function(a){"use strict";a.directive("uiTour",["TourHelpers",function(a){return{restrict:"EA",scope:!0,controller:"TourController",link:function(b,c,d,e){var f={},g="onReady onStart onEnd onShow onShown onHide onHidden onNext onPrev onPause onResume".split(" "),h="placement animation popupDelay closePopupDelay trigger enable appendToBody tooltipClass orphan backdrop scrollOffset".split(" ");a.attachInterpolatedValues(d,f,h,"uiTour"),a.attachEventHandlers(b,d,f,g,"uiTour"),d[a.getAttrName("options")]&&angular.extend(f,b.$eval(d[a.getAttrName("options")])),b.tour=e.init(f),"function"==typeof f.onReady&&f.onReady()}}}])}(angular.module("bm.uiTour")),function(a){"use strict";a.factory("TourHelpers",["$templateCache","$http","$compile","$location","TourConfig","$q",function(a,b,c,d,e,f){function g(a){return"true"===a?!0:"false"===a?!1:a}var h,i={};return h=i.safeApply=function(a,b){var c=a.$$phase;"$apply"===c||"$digest"===c?b&&"function"==typeof b&&b():a.$apply(b)},i.attachEventHandlers=function(a,b,c,d,e){angular.forEach(d,function(d){var g=i.getAttrName(d,e);b[g]&&(c[d]=function(){return f(function(c){h(a,function(){c(a.$eval(b[g]))})})})})},i.attachInterpolatedValues=function(a,b,c,d){angular.forEach(c,function(c){var e=i.getAttrName(c,d);a[e]&&(b[c]=g(a[e]),a.$observe(e,function(a){b[c]=g(a)}))})},i.setRedirect=function(a,b,c,e,g){var h=a[c];a[c]=function(a){return f(function(c){h&&h(a),b.waitFor(g),d.path(e),c()})}},i.getAttrName=function(a,b){return(b||"tourStep")+a.charAt(0).toUpperCase()+a.substr(1)},i}])}(angular.module("bm.uiTour")),function(a){"use strict";a.directive("tourStep",["TourConfig","TourHelpers","$uibTooltip","$q","$sce",function(a,b,c,d,e){var f=c("tourStep","tourStep","uiTourShow",{popupDelay:1});return{restrict:"EA",scope:!0,require:"^uiTour",compile:function(a,c){c.tourStep||c.$set("tourStep","'PH'");var d=f.compile(a,c);return function(a,c,f,g){var h,i={element:c,stepId:f.tourStep,enabled:!0,config:function(a){return angular.isDefined(i[a])?i[a]:g.config(a)}},j="onShow onShown onHide onHidden onNext onPrev".split(" "),k="content title enabled animation placement backdrop orphan popupDelay popupCloseDelay fixed preventScrolling nextStep prevStep nextPath prevPath scrollOffset".split(" ");b.attachInterpolatedValues(f,i,k),h=f.$observe(b.getAttrName("order"),function(a){i.order=isNaN(1*a)?0:1*a,g.reorderStep(i)}),b.attachEventHandlers(a,f,i,j),f[b.getAttrName("templateUrl")]&&(i.templateUrl=a.$eval(f[b.getAttrName("templateUrl")])),f[b.getAttrName("options")]&&angular.extend(i,a.$eval(f[b.getAttrName("options")])),i.nextPath&&(i.redirectNext=!0,b.setRedirect(i,g,"onNext",i.nextPath,i.nextStep)),i.prevPath&&(i.redirectPrev=!0,b.setRedirect(i,g,"onPrev",i.prevPath,i.prevStep)),i.trustedContent=e.trustAsHtml(i.content),g.addStep(i),a.tourStep=i,a.tour=a.tour||g,d(a,c,f),a.$on("$destroy",function(){g.removeStep(i),h()})}}}}]),a.directive("tourStepPopup",["TourConfig","smoothScroll","ezComponentHelpers",function(a,b,c){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"tour-step-popup.html",link:function(d,e){var f=d.originScope().tourStep,g=c.apply(null,arguments),h=f.config("templateUrl"),i=f.config("scrollOffset");e.css("zIndex",a.get("backdropZIndex")+2),f.fixed&&e.css("position","fixed"),h&&g.useTemplateUrl(h),f.config("orphan")&&e.css({position:"absolute",top:"50%",left:"50%",margin:0,transform:"translateX(-50%) translateY(-50%)","-ms-transform":"translateX(-50%) translateY(-50%)","-moz-transform":"translateX(-50%) translateY(-50%)","-webkit-transform":"translateX(-50%) translateY(-50%)"}),d.$watch("isOpen",function(a){a()&&b(e[0],{offset:i})})}}}])}(angular.module("bm.uiTour")),angular.module("bm.uiTour").run(["$templateCache",function(a){a.put("tour-step-popup.html",'<div class="popover tour-step"\n     tooltip-animation-class="fade"\n     uib-tooltip-classes\n     ng-class="{ in: isOpen() }">\n    <div class="arrow"></div>\n\n    <div class="popover-inner tour-step-inner">\n        <h3 class="popover-title tour-step-title" ng-bind="title" ng-if="title"></h3>\n        <div class="popover-content tour-step-content"\n             uib-tooltip-template-transclude="\'tour-step-template.html\'"\n             tooltip-template-transclude-scope="originScope()"></div>\n    </div>\n</div>\n'),a.put("tour-step-template.html",'<div>\n    <div class="popover-content tour-step-content" ng-bind-html="tourStep.trustedContent"></div>\n    <div class="popover-navigation tour-step-navigation">\n        <div class="btn-group">\n            <button class="btn btn-sm btn-default" ng-if="tourStep.isPrev" ng-click="tour.prev()">&laquo; Prev</button>\n            <button class="btn btn-sm btn-default" ng-if="tourStep.isNext" ng-click="tour.next()">Next &raquo;</button>\n            <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="Pause"\n                    data-resume-text="Resume" ng-click="tour.pause()">Pause\n            </button>\n        </div>\n        <button class="btn btn-sm btn-default" data-role="end" ng-click="tour.end()">End tour</button>\n    </div>\n</div>\n')}]);